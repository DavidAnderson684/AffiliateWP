jQuery(document).ready(function(a){function f(a){var b=new RegExp(a+"=([^;]+)"),c=b.exec(document.cookie);return null!=c?unescape(c[1]):null}function l(){var a={ajax_url:JSON.stringify(affwp_scripts.ajaxurl),ref:JSON.stringify(AFFWP.referral_var?AFFWP.referral_var:f("affwp_ref")),visit_cookie:JSON.stringify(f("affwp_ref_visit_id")),credit_last:JSON.stringify(AFFWP.referral_credit_last),campaign:JSON.stringify(v().campaign?v().campaign:f("affwp_campaign")),currency:JSON.stringify(affwp_debug_vars.currency),version:JSON.stringify(affwp_debug_vars.version)};return a}function m(){return affwp_debug_vars.integrations}function p(){console.affwp("Available debug data: \n"+JSON.stringify(Object(l()))),console.affwp("Integrations\n"+JSON.stringify(Object.values(m())))}function u(b,c){a.cookie("affwp_ref",b,{expires:AFFWP.expiration,path:"/"}),a.ajax({type:"POST",data:{action:"affwp_track_visit",affiliate:b,campaign:c,url:document.URL,referrer:document.referrer},url:affwp_scripts.ajaxurl,success:function(b){a.cookie("affwp_ref_visit_id",b,{expires:AFFWP.expiration,path:"/"}),a.cookie("affwp_campaign",c,{expires:AFFWP.expiration,path:"/"})}}).fail(function(a){window.console&&window.console.log&&console.log(a)})}function v(){for(var b,a=[],c=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),d=0;d<c.length;d++){b=c[d].split("="),a.push(b[0]);var e="undefined"==typeof b[1]?0:1,f=b[e].indexOf("#");b[e]=b[e].substring(0,f!=-1?f:b[e].length),a[b[0]]=b[e]}return a}var b=a.cookie("affwp_ref"),e=(a.cookie("affwp_ref_visit_id"),a.cookie("affwp_campaign"),AFFWP.referral_credit_last);if(1===AFFWP.debug){var q=["background: transparent","border-bottom: 2px solid #E34F43","color: black","display: block","line-height: 18px","text-align: left","margin: 4px","font-weight: bold"].join(";");console.affwp=function(){Array.prototype.unshift.call(arguments,"%c * AffiliateWP: ",q+" *"),console.log.apply(console,arguments)},p()}if("1"==e||!b){var r=v()[AFFWP.referral_var],s=v().campaign;if("undefined"==typeof r||a.isFunction(r)){var t=window.location.pathname.split("/");a.each(t,function(a,b){AFFWP.referral_var==b&&(r=t[a+1])})}a.isFunction(r)||("undefined"==typeof r||a.isNumeric(r)?r&&!b?u(r,s):"1"==e&&r&&b&&r!==b&&(a.removeCookie("affwp_ref"),u(r,s)):a.ajax({type:"POST",data:{action:"affwp_get_affiliate_id",affiliate:r},url:affwp_scripts.ajaxurl,success:function(c){"1"==c.data.success&&("1"==e&&b&&b!=c.data.affiliate_id&&a.removeCookie("affwp_ref"),("1"==e&&b&&b!=c.data.affiliate_id||!b)&&u(c.data.affiliate_id,s))}}).fail(function(a){window.console&&window.console.log&&console.log(a)}))}});